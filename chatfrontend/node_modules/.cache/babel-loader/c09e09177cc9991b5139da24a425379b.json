{"ast":null,"code":"function getRow(matrix, j) {\n  if (!matrix[j]) {\n    matrix[j] = [];\n  }\n\n  return matrix[j];\n}\n\nfunction findFirstVacantIndex(row) {\n  let x = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  while (row[x]) {\n    x++;\n  }\n\n  return x;\n}\n\nfunction transposeInPlace(matrix, maxSize) {\n  for (let i = 0; i < maxSize; i++) {\n    const rowI = getRow(matrix, i);\n\n    for (let j = 0; j < i; j++) {\n      const rowJ = getRow(matrix, j);\n      const temp = rowI[j];\n      rowI[j] = rowJ[i];\n      rowJ[i] = temp;\n    }\n  }\n}\n\nfunction putCellIntoLayout(cell, layout, baseRow, baseCol) {\n  for (let r = 0; r < cell.rowspan; r++) {\n    const layoutRow = getRow(layout, baseRow + r);\n\n    for (let c = 0; c < cell.colspan; c++) {\n      layoutRow[baseCol + c] = cell;\n    }\n  }\n}\n\nfunction updateOffset(offsets, base, span, value) {\n  offsets[base + span] = Math.max(offsets[base + span] || 0, offsets[base] + value);\n}\n/**\n * @typedef { object } TablePrinterCell\n * Cell definition for the table printer.\n *\n * @property { number } colspan Number of columns this cell occupies.\n * @property { number } rowspan Number of rows this cell occupies.\n * @property { string } text Cell contents (pre-wrapped).\n */\n\n/**\n * Render a table into string.\n * Cells can contain multiline text and span across multiple rows and columns.\n *\n * Modifies cells to add lines array.\n *\n * @param { TablePrinterCell[][] } tableRows Table to render.\n * @param { number } rowSpacing Number of spaces between columns.\n * @param { number } colSpacing Number of empty lines between rows.\n * @returns { string }\n */\n\n\nfunction tableToString(tableRows, rowSpacing, colSpacing) {\n  const layout = [];\n  let colNumber = 0;\n  const rowNumber = tableRows.length;\n  const rowOffsets = [0]; // Fill the layout table and row offsets row-by-row.\n\n  for (let j = 0; j < rowNumber; j++) {\n    const layoutRow = getRow(layout, j);\n    const cells = tableRows[j];\n    let x = 0;\n\n    for (let i = 0; i < cells.length; i++) {\n      const cell = cells[i];\n      x = findFirstVacantIndex(layoutRow, x);\n      putCellIntoLayout(cell, layout, j, x);\n      x += cell.colspan;\n      cell.lines = cell.text.split('\\n');\n      const cellHeight = cell.lines.length;\n      updateOffset(rowOffsets, j, cell.rowspan, cellHeight + rowSpacing);\n    }\n\n    colNumber = layoutRow.length > colNumber ? layoutRow.length : colNumber;\n  }\n\n  transposeInPlace(layout, rowNumber > colNumber ? rowNumber : colNumber);\n  const outputLines = [];\n  const colOffsets = [0]; // Fill column offsets and output lines column-by-column.\n\n  for (let x = 0; x < colNumber; x++) {\n    let y = 0;\n    let cell;\n\n    while (y < rowNumber && (cell = layout[x][y])) {\n      if (!cell.rendered) {\n        let cellWidth = 0;\n\n        for (let j = 0; j < cell.lines.length; j++) {\n          const line = cell.lines[j];\n          const lineOffset = rowOffsets[y] + j;\n          outputLines[lineOffset] = (outputLines[lineOffset] || '').padEnd(colOffsets[x]) + line;\n          cellWidth = line.length > cellWidth ? line.length : cellWidth;\n        }\n\n        updateOffset(colOffsets, x, cell.colspan, cellWidth + colSpacing);\n        cell.rendered = true;\n      }\n\n      y += cell.rowspan;\n    }\n  }\n\n  return outputLines.join('\\n');\n}\n\nmodule.exports = {\n  tableToString: tableToString\n};","map":{"version":3,"names":["getRow","matrix","j","findFirstVacantIndex","row","x","transposeInPlace","maxSize","i","rowI","rowJ","temp","putCellIntoLayout","cell","layout","baseRow","baseCol","r","rowspan","layoutRow","c","colspan","updateOffset","offsets","base","span","value","Math","max","tableToString","tableRows","rowSpacing","colSpacing","colNumber","rowNumber","length","rowOffsets","cells","lines","text","split","cellHeight","outputLines","colOffsets","y","rendered","cellWidth","line","lineOffset","padEnd","join","module","exports"],"sources":["/Users/thendo/Desktop/WEMEET/node_modules/html-to-text/lib/table-printer.js"],"sourcesContent":["\nfunction getRow (matrix, j) {\n  if (!matrix[j]) { matrix[j] = []; }\n  return matrix[j];\n}\n\nfunction findFirstVacantIndex (row, x = 0) {\n  while (row[x]) { x++; }\n  return x;\n}\n\nfunction transposeInPlace (matrix, maxSize) {\n  for (let i = 0; i < maxSize; i++) {\n    const rowI = getRow(matrix, i);\n    for (let j = 0; j < i; j++) {\n      const rowJ = getRow(matrix, j);\n      const temp = rowI[j];\n      rowI[j] = rowJ[i];\n      rowJ[i] = temp;\n    }\n  }\n}\n\nfunction putCellIntoLayout (cell, layout, baseRow, baseCol) {\n  for (let r = 0; r < cell.rowspan; r++) {\n    const layoutRow = getRow(layout, baseRow + r);\n    for (let c = 0; c < cell.colspan; c++) {\n      layoutRow[baseCol + c] = cell;\n    }\n  }\n}\n\nfunction updateOffset (offsets, base, span, value) {\n  offsets[base + span] = Math.max(\n    offsets[base + span] || 0,\n    offsets[base] + value\n  );\n}\n\n/**\n * @typedef { object } TablePrinterCell\n * Cell definition for the table printer.\n *\n * @property { number } colspan Number of columns this cell occupies.\n * @property { number } rowspan Number of rows this cell occupies.\n * @property { string } text Cell contents (pre-wrapped).\n */\n\n/**\n * Render a table into string.\n * Cells can contain multiline text and span across multiple rows and columns.\n *\n * Modifies cells to add lines array.\n *\n * @param { TablePrinterCell[][] } tableRows Table to render.\n * @param { number } rowSpacing Number of spaces between columns.\n * @param { number } colSpacing Number of empty lines between rows.\n * @returns { string }\n */\nfunction tableToString (tableRows, rowSpacing, colSpacing) {\n  const layout = [];\n  let colNumber = 0;\n  const rowNumber = tableRows.length;\n  const rowOffsets = [0];\n  // Fill the layout table and row offsets row-by-row.\n  for (let j = 0; j < rowNumber; j++) {\n    const layoutRow = getRow(layout, j);\n    const cells = tableRows[j];\n    let x = 0;\n    for (let i = 0; i < cells.length; i++) {\n      const cell = cells[i];\n      x = findFirstVacantIndex(layoutRow, x);\n      putCellIntoLayout(cell, layout, j, x);\n      x += cell.colspan;\n      cell.lines = cell.text.split('\\n');\n      const cellHeight = cell.lines.length;\n      updateOffset(rowOffsets, j, cell.rowspan, cellHeight + rowSpacing);\n    }\n    colNumber = (layoutRow.length > colNumber) ? layoutRow.length : colNumber;\n  }\n\n  transposeInPlace(layout, (rowNumber > colNumber) ? rowNumber : colNumber);\n\n  const outputLines = [];\n  const colOffsets = [0];\n  // Fill column offsets and output lines column-by-column.\n  for (let x = 0; x < colNumber; x++) {\n    let y = 0;\n    let cell;\n    while (y < rowNumber && (cell = layout[x][y])) {\n      if (!cell.rendered) {\n        let cellWidth = 0;\n        for (let j = 0; j < cell.lines.length; j++) {\n          const line = cell.lines[j];\n          const lineOffset = rowOffsets[y] + j;\n          outputLines[lineOffset] = (outputLines[lineOffset] || '').padEnd(colOffsets[x]) + line;\n          cellWidth = (line.length > cellWidth) ? line.length : cellWidth;\n        }\n        updateOffset(colOffsets, x, cell.colspan, cellWidth + colSpacing);\n        cell.rendered = true;\n      }\n      y += cell.rowspan;\n    }\n  }\n\n  return outputLines.join('\\n');\n}\n\nmodule.exports = { tableToString: tableToString };\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}